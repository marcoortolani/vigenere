<head>
    <title>{{ title }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">

<body>
    <div class="qr-container">
        <!--<h1>QR Code</h1>-->
        <img src="{{ url_for('qr') }}?data={{ url }}" alt="QR Code">
        <!--<p class="small">{{ url }}</p>-->
    </div>

    <div class="App">
        <header class="App-header">
            <p>
                GitHub Codespaces <span class="heart">♥️</span> Flask
            </p>
            <img src="{{ url_for('static', filename='codercat.png') }}" class="App-logo" alt="logo" />
            <p class="small">
                Edit <code>templates/index.html</code> and refresh to see your changes!
            </p>

            <!-- New form for encryption/decryption -->
            <div style="width: 100%; max-width: 600px; margin: 0 auto; text-align: left;">
                <h2 class="textarea-title" style="margin-bottom: 0.5rem;">Enter your text</h2>
                <form method="POST" style="margin-top: 0;">
                    <textarea name="user_input" rows="6" placeholder="Enter text to encrypt or decrypt"
                        style="width: 100%; padding: 1rem; font-size: 1rem;" required>{{ plaintext if plaintext else '' }}</textarea>
                    <div style="margin-top: 1rem;">
                        <button type="submit" name="action" value="encrypt" style="margin-right: 1rem;">Encrypt</button>
                        <button type="submit" name="action" value="decrypt">Decrypt</button>
                    </div>
                </form>
            </div>
            
            <!-- Show result if available -->
            {% if result %}
            <div style="text-align: left; width: 100%; max-width: 600px; margin: 0 auto;">
                <h2 class="textarea-title">Result</h2>
                <textarea readonly rows="6" 
                    style="width: 100%; max-width: 600px; padding: 1rem; font-size: 1rem;">*{{ result }}*</textarea>
            </div>            
            {% endif %}        
        </header>
    </div>
</body>

</html>
